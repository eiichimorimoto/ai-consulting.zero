# Cloud Vision API 権限の見つけ方

## 問題
カスタムロールを作成する際、`cloudvision.images.annotate` や `cloudvision.images.detectText` が見つからない場合の対処法です。

## 解決方法

### 方法1: 正しい権限名で検索

Cloud Vision APIの権限名は、実際には以下のいずれかです：

1. **「vision」で検索**（「cloudvision」ではなく）
   - 検索ボックスに「**vision**」と入力
   - 表示される権限を確認

2. **「images」で検索**
   - 検索ボックスに「**images**」と入力
   - Cloud Vision関連の権限を探す

3. **「annotate」で検索**
   - 検索ボックスに「**annotate**」と入力
   - 画像アノテーション関連の権限を探す

### 方法2: 既存のロールから権限をインポート

1. カスタムロール作成画面で「**ロールで権限をフィルタリングする**」の検索ボックスに「**Cloud Vision**」と入力
2. 既存のCloud Vision関連ロールを選択
3. そのロールに含まれる権限を確認・選択

### 方法3: 最小限の権限で試す

Cloud Vision APIを使用するには、実際には以下の権限だけで十分な場合があります：

- `vision.images.annotate` （もし存在すれば）
- または、プロジェクトレベルの基本権限

### 方法4: カスタムロールを作成せず、既存のロールを使用

カスタムロールを作成する代わりに、以下の方法を試してください：

1. **IAMページに戻る**
2. **サービスアカウントを検索**
3. **「ロールを追加」で以下を検索**：
   - 「**vision**」
   - 「**Cloud**」
   - 「**API**」

   表示されるロールがあれば、それを選択してください。

## 推奨: カスタムロールではなく、既存のロールを使用

カスタムロールの作成は複雑なため、まずは既存のロールを使用することをお勧めします。

### 手順

1. カスタムロール作成画面を閉じる（「キャンセル」をクリック）
2. 「IAMと管理」→「IAM」に戻る
3. サービスアカウント `vision-ocr-service-80@aiconsultingzero.iam.gserviceaccount.com` を検索
4. 「ロールを追加」をクリック
5. 検索ボックスに「**vision**」と入力
6. 表示されるロールを確認

もしロールが見つからない場合は、**プロジェクトのオーナーに依頼**するか、**gcloudコマンド**を使用してください。



