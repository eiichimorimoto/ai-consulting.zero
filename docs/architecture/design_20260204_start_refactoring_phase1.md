# ğŸ¨ Design: Startç”»é¢ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° Phase 1ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ»å®šæ•°å¤–éƒ¨åŒ–ï¼‰

**ä½œæˆæ—¥**: 2026-02-04  
**å¯¾è±¡**: Startç”»é¢ï¼ˆpage.tsxï¼‰Phase 1 - ãƒ‡ãƒ¼ã‚¿ãƒ»å®šæ•°ã®å¤–éƒ¨åŒ–  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: AI Consulting Zero  
**å‰æ**: Brainstormå®Œäº†ã€æ–¹é‡Aæ¡ç”¨

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¶ç´„

- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 16 + TypeScript + Supabase
- **ãƒ•ã‚¡ã‚¤ãƒ«ä¿è­·ãƒ¬ãƒ™ãƒ«**: ã™ã¹ã¦ãƒ¬ãƒ™ãƒ«3ï¼ˆå¤‰æ›´å¯èƒ½ï¼‰
- **åˆ¶ç´„**:
  - ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®è‡ªå‹•æ•´ç†ç¦æ­¢
  - 1ãƒ•ã‚¡ã‚¤ãƒ«ãšã¤å¤‰æ›´ãƒ»ç¢ºèª
  - æ—¢å­˜ã®å‹•ä½œã‚’çµ¶å¯¾ã«å£Šã•ãªã„
  - é–¢é€£ã®ãªã„ã‚³ãƒ¼ãƒ‰ã«ã¯è§¦ã‚Œãªã„

---

## Phase 1ã®ç›®æ¨™

### å‰Šæ¸›ç›®æ¨™
- **ç·è¡Œæ•°**: 1,666è¡Œ â†’ 1,350è¡Œï¼ˆ-19%ã€316è¡Œå‰Šæ¸›ï¼‰
- **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–“**: 2.9åˆ† â†’ 2.0åˆ†ï¼ˆäºˆæ¸¬ã€-31%ï¼‰
- **ãƒªã‚¹ã‚¯**: æœ€å°ï¼ˆãƒ‡ãƒ¼ã‚¿ç§»å‹•ã®ã¿ï¼‰

### å®Ÿæ–½å†…å®¹
1. å‹å®šç¾©ã®åˆ†é›¢ï¼ˆ52è¡Œï¼‰
2. ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã®çµ±åˆãƒ»åˆ†é›¢ï¼ˆ34è¡Œ â†’ 17è¡Œã€é‡è¤‡å‰Šæ¸›ï¼‰
3. å®šæ•°ã®åˆ†é›¢ï¼ˆ24è¡Œï¼‰
4. ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®åˆ†é›¢ï¼ˆ273è¡Œï¼‰

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ç¾åœ¨ã®æ§‹é€ 
```
app/consulting/start/page.tsx (1,666è¡Œ)
â”œâ”€ å‹å®šç¾© (52è¡Œ)
â”œâ”€ å®šæ•° (14è¡Œ)
â”œâ”€ ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ (34è¡Œã€é‡è¤‡ã‚ã‚Š)
â”œâ”€ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ (273è¡Œ)
â””â”€ ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (1,293è¡Œ)
```

### Phase 1å®Œäº†å¾Œã®æ§‹é€ 
```
types/
â””â”€ consulting.ts (æ–°è¦)         â† å‹å®šç¾© (52è¡Œ)

lib/consulting/
â”œâ”€ constants.ts (æ–°è¦)          â† å®šæ•° (24è¡Œ)
â”œâ”€ category-data.ts (æ–°è¦)      â† ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿çµ±åˆ (17è¡Œ)
â””â”€ sample-data.ts (æ–°è¦)        â† ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ (273è¡Œ)

app/consulting/start/
â””â”€ page.tsx (å¤‰æ›´)              â† ãƒ¡ã‚¤ãƒ³ (1,350è¡Œ)
   â”œâ”€ ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ  (4è¡Œ)
   â””â”€ æ—¢å­˜ã‚³ãƒ¼ãƒ‰ (-316è¡Œ)
```

---

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ

### Module 1: types/consulting.ts

**è²¬å‹™**: ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã®å…±é€šå‹å®šç¾©

**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå‹**:
```typescript
export type ConsultingStep = {
  id: number;
  title: string;
  icon: ReactNode;
  status: "completed" | "active" | "pending";
  summary?: string[];
};

export type Message = {
  id: number;
  type: "ai" | "user";
  content: string;
  timestamp: Date;
  interactive?: {
    type: "buttons" | "form" | "chart" | "category-buttons" | "subcategory-buttons" | "custom-input";
    data?: CategoryData[] | string[];
    selectedCategory?: string;
  };
};

export type CategoryData = {
  label: string;
  icon: string;
  color: string;
  bgLight?: string;
};

export type KPI = {
  label: string;
  value: string;
  change: string;
  trend: "up" | "down" | "neutral";
};

export type SessionStatus = "active" | "paused" | "completed" | "cancelled";

export type SessionData = {
  id: string;
  name: string;
  progress: number;
  currentStepId: number;
  messages: Message[];
  kpis: KPI[];
  steps: ConsultingStep[];
  lastUpdated: Date;
  createdAt: Date;
  isPinned: boolean;
  isOpen: boolean;
  status: SessionStatus;
  completedAt?: Date;
};

export type ApiSession = {
  id: string;
  title: string;
  status: string | null;
  current_round: number | null;
  max_rounds: number | null;
  created_at: string | null;
  updated_at: string | null;
  completed_at: string | null;
};
```

**ä¾å­˜**: React (ReactNodeå‹ã®ã¿)

**ä¿è­·ãƒ¬ãƒ™ãƒ«**: ãƒ¬ãƒ™ãƒ«3

---

### Module 2: lib/consulting/category-data.ts

**è²¬å‹™**: ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†ï¼ˆé‡è¤‡å‰Šæ¸›ï¼‰

**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå†…å®¹**:
```typescript
import { CategoryData } from "@/types/consulting";

/**
 * ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã‚«ãƒ†ã‚´ãƒªã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
 * æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³
 */
export const CONSULTING_CATEGORIES: CategoryData[] = [
  { 
    label: "å£²ä¸Šã®ä¼¸ã³æ‚©ã¿", 
    icon: "TrendingDown", 
    color: "bg-red-500", 
    bgLight: "bg-red-50 border-red-200" 
  },
  { 
    label: "ã‚³ã‚¹ãƒˆå‰Šæ¸›", 
    icon: "DollarSign", 
    color: "bg-green-500", 
    bgLight: "bg-green-50 border-green-200" 
  },
  { 
    label: "æ–°è¦äº‹æ¥­ç«‹ã¡ä¸Šã’", 
    icon: "Rocket", 
    color: "bg-blue-500", 
    bgLight: "bg-blue-50 border-blue-200" 
  },
  { 
    label: "çµ„ç¹”æ”¹é©", 
    icon: "Users", 
    color: "bg-purple-500", 
    bgLight: "bg-purple-50 border-purple-200" 
  },
  { 
    label: "DXæ¨é€²", 
    icon: "Cpu", 
    color: "bg-indigo-500", 
    bgLight: "bg-indigo-50 border-indigo-200" 
  },
  { 
    label: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–", 
    icon: "Shield", 
    color: "bg-amber-500", 
    bgLight: "bg-amber-50 border-amber-200" 
  },
  { 
    label: "ã‚¯ãƒ©ã‚¦ãƒ‰ç§»è¡Œ", 
    icon: "Cloud", 
    color: "bg-cyan-500", 
    bgLight: "bg-cyan-50 border-cyan-200" 
  },
  { 
    label: "æ¥­å‹™è‡ªå‹•åŒ–", 
    icon: "Zap", 
    color: "bg-yellow-500", 
    bgLight: "bg-yellow-50 border-yellow-200" 
  },
  { 
    label: "ãã®ä»–", 
    icon: "Edit3", 
    color: "bg-gray-500", 
    bgLight: "bg-gray-50 border-gray-200" 
  }
];
```

**ä¾å­˜**: types/consulting.ts

**ä¿è­·ãƒ¬ãƒ™ãƒ«**: ãƒ¬ãƒ™ãƒ«3

**é‡è¤‡å‰Šæ¸›**: 461-477è¡Œã¨707-717è¡Œã®2ç®‡æ‰€ã‚’1ç®‡æ‰€ã«çµ±åˆ

---

### Module 3: lib/consulting/constants.ts

**è²¬å‹™**: ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã®å®šæ•°ç®¡ç†

**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå†…å®¹**:
```typescript
/**
 * åŒæ™‚ã«é–‹ã‘ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ãƒ–ã®æœ€å¤§æ•°
 */
export const MAX_OPEN_TABS = 5;

/**
 * ã‚»ãƒƒã‚·ãƒ§ãƒ³åï¼ˆã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«ï¼‰â†’ ã‚¿ãƒ–å·¦ç«¯ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼
 */
export const CATEGORY_ACCENT_MAP: Record<string, string> = {
  "å£²ä¸Šã®ä¼¸ã³æ‚©ã¿": "bg-red-500",
  "ã‚³ã‚¹ãƒˆå‰Šæ¸›": "bg-green-500",
  "æ–°è¦äº‹æ¥­ç«‹ã¡ä¸Šã’": "bg-blue-500",
  "çµ„ç¹”æ”¹é©": "bg-purple-500",
  "ãã®ä»–": "bg-gray-500",
  "DXæ¨é€²": "bg-indigo-500",
  "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–": "bg-amber-500",
  "ã‚¯ãƒ©ã‚¦ãƒ‰ç§»è¡Œ": "bg-cyan-500",
  "æ¥­å‹™è‡ªå‹•åŒ–": "bg-yellow-500",
};

/**
 * ã‚«ãƒ†ã‚´ãƒª â†’ ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªã®ãƒãƒƒãƒ”ãƒ³ã‚°
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠå¾Œã€è©³ç´°ãªèª²é¡Œã‚’é¸æŠã™ã‚‹ãŸã‚ã«ä½¿ç”¨
 */
export const SUBCATEGORY_MAP: Record<string, string[]> = {
  "å£²ä¸Šã®ä¼¸ã³æ‚©ã¿": [
    "æ–°è¦é¡§å®¢ç²å¾—ãŒä½èª¿",
    "æ—¢å­˜é¡§å®¢ã®é›¢è„±",
    "å˜ä¾¡ã®ä½ä¸‹",
    "å¸‚å ´ã‚·ã‚§ã‚¢ã®æ¸›å°‘"
  ],
  "ã‚³ã‚¹ãƒˆå‰Šæ¸›": [
    "äººä»¶è²»ã®æœ€é©åŒ–",
    "è¨­å‚™ç¶­æŒè²»ã®å‰Šæ¸›",
    "åœ¨åº«ç®¡ç†ã®æ”¹å–„",
    "æ¥­å‹™åŠ¹ç‡åŒ–"
  ],
  "æ–°è¦äº‹æ¥­ç«‹ã¡ä¸Šã’": [
    "å¸‚å ´èª¿æŸ»ãƒ»åˆ†æ",
    "äº‹æ¥­è¨ˆç”»ã®ç­–å®š",
    "è³‡é‡‘èª¿é”",
    "ãƒãƒ¼ãƒ ç·¨æˆ"
  ],
  "çµ„ç¹”æ”¹é©": [
    "çµ„ç¹”æ§‹é€ ã®è¦‹ç›´ã—",
    "äººäº‹è©•ä¾¡åˆ¶åº¦ã®æ”¹å–„",
    "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ´»æ€§åŒ–",
    "ä¼æ¥­æ–‡åŒ–ã®å¤‰é©"
  ],
  "DXæ¨é€²": [
    "ãƒ‡ã‚¸ã‚¿ãƒ«æˆ¦ç•¥ã®ç­–å®š",
    "ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®åˆ·æ–°",
    "ãƒ‡ãƒ¼ã‚¿æ´»ç”¨åŸºç›¤ã®æ§‹ç¯‰",
    "AI/MLã®å°å…¥"
  ],
  "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–": [
    "ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒå¯¾ç­–",
    "æƒ…å ±æ¼æ´©é˜²æ­¢",
    "ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹å¯¾å¿œ",
    "ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆå°å…¥"
  ],
  "ã‚¯ãƒ©ã‚¦ãƒ‰ç§»è¡Œ": [
    "ã‚¯ãƒ©ã‚¦ãƒ‰æˆ¦ç•¥ã®ç«‹æ¡ˆ",
    "ã‚ªãƒ³ãƒ—ãƒ¬ã‹ã‚‰ã®ç§»è¡Œ",
    "ã‚³ã‚¹ãƒˆæœ€é©åŒ–",
    "ãƒãƒ«ãƒã‚¯ãƒ©ã‚¦ãƒ‰å¯¾å¿œ"
  ],
  "æ¥­å‹™è‡ªå‹•åŒ–": [
    "RPAå°å…¥",
    "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–",
    "APIé€£æºåŸºç›¤",
    "ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«æ´»ç”¨"
  ]
};
```

**ä¾å­˜**: ãªã—

**ä¿è­·ãƒ¬ãƒ™ãƒ«**: ãƒ¬ãƒ™ãƒ«3

---

### Module 4: lib/consulting/sample-data.ts

**è²¬å‹™**: é–‹ç™ºç’°å¢ƒç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿

**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå†…å®¹**:
```typescript
import { SessionData } from "@/types/consulting";
import { MessageSquare, BarChart3, Lightbulb, Target, FileText } from "lucide-react";

/**
 * é–‹ç™ºç’°å¢ƒç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
 * æœ¬ç•ªç’°å¢ƒã§ã¯APIã‹ã‚‰å–å¾—ã™ã‚‹ãŸã‚ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯ä½¿ç”¨ã•ã‚Œãªã„
 * 
 * ä½¿ç”¨ç®‡æ‰€: é–‹ç™ºä¸­ã®UIãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€Storybookãªã©
 */
export const createInitialSessions = (): SessionData[] => [
  {
    id: "session-1",
    name: "å£²ä¸Šã®ä¼¸ã³æ‚©ã¿",
    progress: 40,
    currentStepId: 2,
    // ... (æ—¢å­˜ã®session-1ãƒ‡ãƒ¼ã‚¿å…¨ä½“)
  },
  {
    id: "session-2",
    name: "ã‚³ã‚¹ãƒˆå‰Šæ¸›",
    // ... (æ—¢å­˜ã®session-2ãƒ‡ãƒ¼ã‚¿å…¨ä½“)
  },
  {
    id: "session-3",
    name: "æ–°è¦äº‹æ¥­ç«‹ã¡ä¸Šã’",
    // ... (æ—¢å­˜ã®session-3ãƒ‡ãƒ¼ã‚¿å…¨ä½“)
  },
  {
    id: "session-4",
    name: "çµ„ç¹”æ”¹é©",
    // ... (æ—¢å­˜ã®session-4ãƒ‡ãƒ¼ã‚¿å…¨ä½“)
  },
];
```

**ä¾å­˜**: 
- types/consulting.ts
- lucide-react (ã‚¢ã‚¤ã‚³ãƒ³ç”¨)

**ä¿è­·ãƒ¬ãƒ™ãƒ«**: ãƒ¬ãƒ™ãƒ«3

**æ³¨æ„**: æœ¬ç•ªç’°å¢ƒã§ã¯ä½¿ç”¨ã•ã‚Œãªã„ï¼ˆé–‹ç™ºå°‚ç”¨ï¼‰

---

### Module 5: app/consulting/start/page.tsxï¼ˆå¤‰æ›´å¾Œï¼‰

**è²¬å‹™**: Startç”»é¢ã®ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆçµ„ã¿ç«‹ã¦å½¹ï¼‰

**ä¸»ãªå¤‰æ›´ç‚¹**:
```typescript
// ã€è¿½åŠ ã€‘å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import type { 
  SessionData, 
  Message, 
  ConsultingStep, 
  KPI, 
  SessionStatus, 
  CategoryData, 
  ApiSession 
} from "@/types/consulting";
import { MAX_OPEN_TABS, CATEGORY_ACCENT_MAP, SUBCATEGORY_MAP } from "@/lib/consulting/constants";
import { CONSULTING_CATEGORIES } from "@/lib/consulting/category-data";
import { createInitialSessions } from "@/lib/consulting/sample-data";

// ã€å‰Šé™¤ã€‘å‹å®šç¾©ï¼ˆ39-90è¡Œï¼‰ â†’ types/consulting.ts ã«ç§»å‹•æ¸ˆã¿
// ã€å‰Šé™¤ã€‘å®šæ•°ï¼ˆ91-104è¡Œï¼‰ â†’ lib/consulting/constants.ts ã«ç§»å‹•æ¸ˆã¿
// ã€å‰Šé™¤ã€‘createInitialSessionsï¼ˆ106-378è¡Œï¼‰ â†’ lib/consulting/sample-data.ts ã«ç§»å‹•æ¸ˆã¿

// ã€å¤‰æ›´ã€‘createInitialSessionForNewUser å†…ã®ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿
// 461-477è¡Œã‚’ CONSULTING_CATEGORIES ã«ç½®ãæ›ãˆ

// ã€å¤‰æ›´ã€‘handleNewSession å†…ã®ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿
// 707-717è¡Œã‚’ CONSULTING_CATEGORIES ã«ç½®ãæ›ãˆ

// ã€å¤‰æ›´ã€‘handleQuickReply å†…ã® subcategoryMap
// 904-913è¡Œã‚’ SUBCATEGORY_MAP ã«ç½®ãæ›ãˆ

// ãã®ä»–ã®ã‚³ãƒ¼ãƒ‰ã¯å¤‰æ›´ãªã—
```

**å‰Šæ¸›å†…å®¹**:
- å‹å®šç¾©: -52è¡Œ
- å®šæ•°: -14è¡Œ
- ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿: -273è¡Œ
- ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿é‡è¤‡å‰Šæ¸›: -17è¡Œï¼ˆ34â†’17è¡Œã«çµ±åˆï¼‰
- ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ : +4è¡Œ
- **åˆè¨ˆå‰Šæ¸›**: -352è¡Œï¼ˆå®Ÿè³ª-316è¡Œã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ åˆ†ã‚’é™¤ãï¼‰

**ä¿è­·ãƒ¬ãƒ™ãƒ«**: ãƒ¬ãƒ™ãƒ«3

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### ç¾åœ¨ã®ãƒ•ãƒ­ãƒ¼
```
page.tsx å†…ã§å…¨ã¦å®šç¾©
â”œâ”€ å‹å®šç¾©ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ï¼‰
â”œâ”€ å®šæ•°ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ï¼‰
â”œâ”€ ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆ2ç®‡æ‰€ã§é‡è¤‡ï¼‰
â”œâ”€ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ï¼‰
â””â”€ ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```

### Phase 1å®Œäº†å¾Œã®ãƒ•ãƒ­ãƒ¼
```
å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« â†’ page.tsx
â”œâ”€ types/consulting.ts â†’ import type { ... }
â”œâ”€ lib/consulting/constants.ts â†’ import { MAX_OPEN_TABS, ... }
â”œâ”€ lib/consulting/category-data.ts â†’ import { CONSULTING_CATEGORIES }
â”œâ”€ lib/consulting/sample-data.ts â†’ import { createInitialSessions }
â””â”€ page.tsxï¼ˆãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®ã¿ï¼‰
```

---

## æŠ€è¡“é¸å®šï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¶ç´„è€ƒæ…®ï¼‰

| ã‚«ãƒ†ã‚´ãƒª | é¸å®šæŠ€è¡“ | ç†ç”± | åˆ¶ç´„ |
|---------|---------|------|------|
| å‹å®šç¾©é…ç½® | types/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | Next.jsæ¨™æº–ã€å…±æœ‰ã—ã‚„ã™ã„ | ãªã— |
| å®šæ•°é…ç½® | lib/consulting/ | æ©Ÿèƒ½åˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚° | ãªã— |
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ | @/ ã‚¨ã‚¤ãƒªã‚¢ã‚¹ | tsconfig.jsonè¨­å®šæ¸ˆã¿ | æ—¢å­˜ãƒ‘ã‚¹ç¶­æŒ |
| å‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | import type { ... } | Tree-shakingæœ€é©åŒ– | ãªã— |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®ç‚¹

### ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã®å®‰å…¨æ€§

1. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®æ­£ç¢ºæ€§**
   - `@/types/consulting` â† tsconfig.json ã® paths è¨­å®šã«ä¾å­˜
   - `@/lib/consulting/...` â† æ—¢å­˜ã® lib/ æ§‹é€ ã«å¾“ã†

2. **æ—¢å­˜æ©Ÿèƒ½ã®ä¿è­·**
   - å‹å®šç¾©: å®Œå…¨ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¤‰æ›´ãªã—ï¼‰
   - å®šæ•°: å®Œå…¨ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¤‰æ›´ãªã—ï¼‰
   - ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿: çµ±åˆã™ã‚‹ãŒã€å†…å®¹ã¯åŒä¸€
   - ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿: å®Œå…¨ã«ã‚³ãƒ”ãƒ¼ï¼ˆå¤‰æ›´ãªã—ï¼‰

3. **æ®µéšçš„ç¢ºèª**
   - 1ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ â†’ TypeScriptã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
   - page.tsx å¤‰æ›´ â†’ TypeScriptã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
   - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• â†’ å‹•ä½œç¢ºèª
   - ãƒ–ãƒ©ã‚¦ã‚¶ç¢ºèª â†’ UIå‹•ä½œç¢ºèª

---

## ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´è¨ˆç”»

### æ–°è¦ä½œæˆï¼ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

#### 1. types/consulting.ts
- **ç›®çš„**: å‹å®šç¾©ã®å…±æœ‰
- **è¡Œæ•°**: 52è¡Œ
- **ä¾å­˜**: React (ReactNode)
- **ãƒªã‚¹ã‚¯**: ä½ï¼ˆå‹ã®ã¿ï¼‰

#### 2. lib/consulting/category-data.ts
- **ç›®çš„**: ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†
- **è¡Œæ•°**: 17è¡Œï¼ˆé‡è¤‡å‰Šæ¸›å¾Œï¼‰
- **ä¾å­˜**: types/consulting.ts
- **ãƒªã‚¹ã‚¯**: ä½ï¼ˆãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰

#### 3. lib/consulting/constants.ts
- **ç›®çš„**: å®šæ•°ã®ç®¡ç†
- **è¡Œæ•°**: 24è¡Œ
- **ä¾å­˜**: ãªã—
- **ãƒªã‚¹ã‚¯**: ä½ï¼ˆå®šæ•°ã®ã¿ï¼‰

#### 4. lib/consulting/sample-data.ts
- **ç›®çš„**: ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®åˆ†é›¢
- **è¡Œæ•°**: 273è¡Œ
- **ä¾å­˜**: types/consulting.ts, lucide-react
- **ãƒªã‚¹ã‚¯**: ä½ï¼ˆé–‹ç™ºå°‚ç”¨ãƒ‡ãƒ¼ã‚¿ï¼‰

### å¤‰æ›´å¯¾è±¡ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

#### app/consulting/start/page.tsx
- **å¤‰æ›´å†…å®¹**:
  - ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ ï¼ˆ4è¡Œï¼‰
  - å‹å®šç¾©å‰Šé™¤ï¼ˆ52è¡Œï¼‰
  - å®šæ•°å‰Šé™¤ï¼ˆ14è¡Œï¼‰
  - ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆ273è¡Œï¼‰
  - ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ç½®ãæ›ãˆï¼ˆ2ç®‡æ‰€ï¼‰
  - subcategoryMap ç½®ãæ›ãˆï¼ˆ1ç®‡æ‰€ï¼‰
- **å‰Šæ¸›**: 352è¡Œ â†’ å®Ÿè³ª316è¡Œï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆé™¤ãï¼‰
- **ãƒªã‚¹ã‚¯**: ä¸­ï¼ˆãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ï¼‰

---

## ãƒªã‚¹ã‚¯ç®¡ç†

### Phase 1ã®ãƒªã‚¹ã‚¯è©•ä¾¡

| ãƒªã‚¹ã‚¯ | ç™ºç”Ÿç¢ºç‡ | å½±éŸ¿åº¦ | å¯¾ç­– |
|-------|---------|--------|------|
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹èª¤ã‚Š | ä½ | é«˜ | TypeScript ã‚¨ãƒ©ãƒ¼ã§å³åº§ã«æ¤œå‡º |
| å‹å®šç¾©ã®ä¸ä¸€è‡´ | ä½ | é«˜ | å®Œå…¨ã‚³ãƒ”ãƒ¼ã®ãŸã‚ä¸ä¸€è‡´ãªã— |
| ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã®ä¸æ•´åˆ | ä½ | ä¸­ | çµ±åˆå‰ã«å†…å®¹ã‚’æ¯”è¼ƒç¢ºèª |
| æ—¢å­˜æ©Ÿèƒ½ã®ç ´å£Š | ä½ | æœ€é«˜ | æ®µéšçš„ç¢ºèªã€å‹•ä½œãƒ†ã‚¹ãƒˆ |

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

**å„ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚³ãƒŸãƒƒãƒˆ**:
```bash
# Step 1
git add types/consulting.ts
git commit -m "refactor: å‹å®šç¾©ã‚’ types/consulting.ts ã«åˆ†é›¢"

# Step 2
git add lib/consulting/category-data.ts
git commit -m "refactor: ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆãƒ»åˆ†é›¢"

# Step 3
git add lib/consulting/constants.ts
git commit -m "refactor: å®šæ•°ã‚’ lib/consulting/constants.ts ã«åˆ†é›¢"

# Step 4
git add lib/consulting/sample-data.ts
git commit -m "refactor: ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢"

# Step 5
git add app/consulting/start/page.tsx
git commit -m "refactor: page.tsx ã‹ã‚‰å¤–éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‚ç…§"

# å•é¡ŒãŒã‚ã‚Œã°
git revert HEAD~[N]  # Nå€‹å‰ã®ã‚³ãƒŸãƒƒãƒˆã«æˆ»ã™
```

---

## æ¤œè¨¼è¨ˆç”»

### TypeScriptã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯

**å„ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå¾Œ**:
```bash
# å‹ãƒã‚§ãƒƒã‚¯ï¼ˆå…¨ä½“ï¼‰
npx tsc --noEmit

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
npx tsc --noEmit app/consulting/start/page.tsx
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ç¢ºèª

**page.tsx å¤‰æ›´å¾Œ**:
```bash
# ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
pkill -f "next"
npm run dev

# ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–“ã‚’æ¸¬å®š
# ç›®æ¨™: 2.0åˆ†ä»¥ä¸‹ï¼ˆç¾åœ¨2.9åˆ†ï¼‰
```

### ãƒ–ãƒ©ã‚¦ã‚¶å‹•ä½œç¢ºèª

**ç¢ºèªé …ç›®**:
1. Startç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹: `http://localhost:3000/consulting/start`
2. æ–°è¦ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³è¡¨ç¤ºç¢ºèª
3. ã‚«ãƒ†ã‚´ãƒªé¸æŠ â†’ ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒœã‚¿ãƒ³è¡¨ç¤ºç¢ºèª
4. ã€Œãã®ä»–ã€é¸æŠ â†’ ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ›è¡¨ç¤ºç¢ºèª
5. æ—¢å­˜ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ å±¥æ­´è¡¨ç¤ºç¢ºèªï¼ˆã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼‰

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™

### Phase 1ã®ç›®æ¨™å€¤

| æŒ‡æ¨™ | ç¾åœ¨ | ç›®æ¨™ | é”æˆåŸºæº– |
|------|------|------|---------|
| ç·è¡Œæ•° | 1,666è¡Œ | 1,350è¡Œ | -316è¡Œä»¥ä¸Šå‰Šæ¸› |
| ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–“ | 2.9åˆ† | 2.0åˆ†ä»¥ä¸‹ | -30%ä»¥ä¸Šå‰Šæ¸› |
| ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º | æœªæ¸¬å®š | æœªæ¸¬å®š | Phase 2ã§æ¸¬å®š |
| å‹•ä½œç¢ºèª | - | 100% | ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œ |

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Designå®Œäº†å¾Œï¼ˆPlan ãƒ•ã‚§ãƒ¼ã‚ºã¸ï¼‰

1. **ã‚¿ã‚¹ã‚¯åˆ†è§£**
   - å„ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®ã‚¿ã‚¹ã‚¯åŒ–
   - ä¾å­˜é–¢ä¿‚ã®æ˜ç¢ºåŒ–
   - å®Ÿæ–½é †åºã®ç¢ºå®š

2. **è¦‹ç©ã‚‚ã‚Š**
   - å„ã‚¿ã‚¹ã‚¯ã®æ‰€è¦æ™‚é–“
   - ç·å®Ÿæ–½æ™‚é–“ã®ç®—å‡º

3. **ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆä½œæˆ**
   - å„ã‚¹ãƒ†ãƒƒãƒ—ã®å®Œäº†æ¡ä»¶
   - æ¤œè¨¼é …ç›®ã®è©³ç´°åŒ–

---

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: Planãƒ•ã‚§ãƒ¼ã‚ºã¸ç§»è¡Œã—ã€å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’è©³ç´°åŒ–ã™ã‚‹
