# n8n セキュリティチェックリスト

**最終更新**: 2026-01-12  
**重要度**: 🚨 高

---

## ⚠️ 導入前の必須確認事項

### 1. バージョンチェック（最重要）

```bash
# 最新版の確認
docker run --rm n8nio/n8n:latest n8n --version
```

| チェック項目 | 条件 | 状態 |
|------------|------|------|
| n8nバージョン | **v1.78.0以降** | □ |
| CVE-2026-21858対策 | 対応済み | □ |

**❌ v1.77.0以前は使用禁止**

---

## 🔐 セキュリティ設定チェック

### 2. 認証設定

- [ ] Basic認証を有効化
- [ ] 強力なパスワード設定（16文字以上、大小英数記号）
- [ ] パスワードを`.env`で管理（コミット禁止）

### 3. ネットワーク設定

- [ ] HTTPS接続を設定（必須）
- [ ] ファイアウォール設定（5678ポートは内部のみ）
- [ ] リバースプロキシ経由でのみアクセス可能

### 4. データベース設定

- [ ] PostgreSQLを使用（SQLiteは本番禁止）
- [ ] データベースを外部公開しない
- [ ] データベースの強力なパスワード設定

---

## 📋 運用チェック

### 5. バックアップ

- [ ] 毎日自動バックアップ設定
- [ ] バックアップの動作確認
- [ ] リストア手順の確認

### 6. モニタリング

- [ ] ログ監視の設定
- [ ] エラー通知の設定
- [ ] ディスク容量監視

### 7. 定期メンテナンス

- [ ] 月次でバージョン確認
- [ ] セキュリティアップデート適用
- [ ] ログのローテーション

---

## 🚨 既知の脆弱性

### CVE-2026-21858

| 項目 | 内容 |
|------|------|
| **発覚日** | 2026-01-12 |
| **深刻度** | 高 |
| **影響バージョン** | v1.77.0以前 |
| **対策** | v1.78.0以降にアップデート |
| **緊急度** | 🚨 高（即時対応推奨） |

---

## ✅ 導入可否判定

### すべてにチェックが入れば導入OK

```
□ n8n v1.78.0以降
□ Basic認証有効
□ HTTPS設定完了
□ ファイアウォール設定完了
□ PostgreSQL設定完了
□ バックアップ設定完了
□ モニタリング設定完了
```

**すべて ✅ → 導入OK**  
**1つでも ❌ → 対策完了後に再チェック**

---

## 📚 関連ドキュメント

- [n8n-setup-guide.md](./n8n-setup-guide.md) - 詳細セットアップ手順
- [VPS構成ドキュメント](../guides/Local%20Directry　開発環境（for%20VPS）.md)

---

**このチェックリストは定期的に更新されます。導入前に必ず最新版を確認してください。**
