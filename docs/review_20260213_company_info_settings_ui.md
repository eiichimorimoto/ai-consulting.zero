# 会社情報画面（アカウント設定）のレビュー

> 対象: 設定 > 会社情報の表示項目・入力・デザイン  
> 日付: 2026-02-13

---

## 1. 表示項目・入力の過不足

### 1.1 過不足なしで問題ない項目

- 会社名（必須）、会社名カナ、法人番号、郵便番号〜町名番地以下、電話・FAX・メール、ウェブサイト、業種・従業員数・資本金・年間売上・設立日・代表者名・決算月、事業内容、会社資料のアップロードは、DB の `companies` と整合しており、必要な項目は揃っている。

### 1.2 検討したい「不足」の可能性

- **DB にはあるが画面にない項目**
  - `main_products`（主要製品）、`main_clients`（主要取引先）、`main_banks`（主力取引銀行）
  - `current_challenges`（課題）、`growth_stage`（成長段階）、`it_maturity_level`（IT成熟度）
- これらは分析・AI相談で使う想定であれば、**設定では編集せず別画面やアンケートで取得**する設計でもよい。  
  ユーザーが「自社の強み・取引先・課題」を設定画面で直に編集したい要件があれば、セクションを分けて追加を検討。

### 1.3 入力まわりの改善余地

| 項目 | 指摘 | 提案 |
|------|------|------|
| **法人番号** | 13桁数字の形式説明や入力補助がない | プレースホルダー「13桁の数字」や、桁数・数字のみの簡易バリデーションを表示すると親切。 |
| **年間売上・決算月** | 未選択時は「選択してください」のまま保存可能 | 現状のままでもよいが、「未選択可」であることが分かるラベル（例：「任意」）があると誤解が減る。 |
| **ウェブサイト** | プロトコル（http/https）をユーザー任せ | 入力値の先頭に `https://` がなければ補完する、またはプレースホルダーで「https:// から入力」と案内するとよい。 |
| **設立日** | `type="date"` でブラウザ依存の見た目 | 現状のままで可。デザインを完全に揃えたい場合は date picker コンポーネントの導入を検討。 |

---

## 2. デザイン的な課題

### 2.1 レイアウトの無駄・不揃い

- **町名番地以下**  
  `grid grid-cols-2` のうち 1 列だけ使用しており、右側が空白になっている。  
  → 町名番地以下は**1列フル幅**（`grid-cols-1` または単一ブロック）にした方が自然。

- **決算月の行**  
  決算月と「空の `<div></div>」」で 2 列にしており、右側が空白。  
  → 決算月だけの場合は 1 列でよい。または「代表者名」と横並びのまま、右側を空にしない（例：決算月＋「次の再取得で上書きされます」などの説明を同じ行にまとめる）。

### 2.2 セクション分け

- 項目数が多いため、**見出しでブロック分け**があるとスキャンしやすい。
  - 例：「基本情報」（会社名・カナ・法人番号）、「住所」、「連絡先」、「経営指標」（業種〜決算月）、「事業内容」、「会社資料」。
- カード内で `<h4>` や区切り線で軽く分けるだけでも効果がある。

### 2.3 保存ボタン

- 保存ボタンがフォーム最下部のみ。  
  → 長いフォームなので、**画面上部に固定（スティッキー）の保存ボタン**を置く、または「会社情報を保存」をカードヘッダー直下にも配置すると、スクロールしなくても保存しやすい。

### 2.4 フォームコントロールの統一

- **select** が `className` で `border border-gray-300 rounded-lg` などを指定している一方、**Input** は Radix/Shadcn 系でスタイルが別になっている可能性がある。  
  → 見た目の差が気になる場合は、select を `Input` 風のスタイルに揃える、または Select コンポーネントを共通化すると統一感が出る。

### 2.5 保存後のフィードバック

- 成功時は `alert('会社情報を更新しました')` のみ。  
  → **トースト**やカード直下の**インライン成功メッセージ**にすると、モダンな印象になり、画面がブロックされない。

---

## 3. その他（UX・今後の拡張）

- **郵便番号から住所自動取得**は実装済みで、そのままでよい。
- **「会社情報を再取得」ボタン**は、方針どおりこのカード内（会社資料の上または保存ボタンの上）に追加する想定で問題ない。
- 必須は**会社名のみ**で、他は任意の設計でよい。  
  ただし「どれが必須か」をラベルや説明で明示しておくと分かりやすい。

---

## 4. 優先度の目安

| 優先度 | 内容 |
|--------|------|
| **高** | 町名番地以下・決算月のレイアウト修正（1列化など）、再取得ボタンの追加 |
| **中** | セクション見出しの追加、保存後のフィードバックをトースト/インラインに変更 |
| **低** | 法人番号のプレースホルダー・簡易バリデーション、ウェブサイトの https 補完、スティッキー保存ボタン、select と Input のスタイル統一 |

DB にあり画面にない項目（主要製品・課題等）は、 product 要件に応じて「設定で編集するか」「別フローで取得するか」を決めたうえで、必要なら追加検討でよい。
